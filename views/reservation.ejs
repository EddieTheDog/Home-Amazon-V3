<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reservation <%= reservation.id %></title>
<link rel="stylesheet" href="/style.css">
<script>
  function countdown(targetTime) {
    const countdownEl = document.getElementById('countdown');
    function update() {
      const now = new Date();
      const diff = targetTime - now;
      if(diff <= 0){
        countdownEl.textContent = "Arrived / Expired";
        return;
      }
      const minutes = Math.floor(diff / 60000);
      const seconds = Math.floor((diff % 60000) / 1000);
      countdownEl.textContent = minutes + "m " + seconds + "s";
      setTimeout(update, 1000);
    }
    update();
  }
</script>
</head>
<body onload="countdown(new Date('<%= new Date(reservation.createdAt).getTime() + reservation.scheduledTime*60000 %>'))">
  <div class="container">
    <h1>Reservation ID: <%= reservation.id %></h1>
    <p>Name: <%= reservation.name %></p>
    <p>Package Info: <%= reservation.packageInfo %></p>
    <p>Delivery Info: <%= reservation.deliveryInfo %></p>
    <p>Status: <%= reservation.status %></p>
    <p>Time Remaining: <span id="countdown"></span></p>
  </div>
</body>
</html>
